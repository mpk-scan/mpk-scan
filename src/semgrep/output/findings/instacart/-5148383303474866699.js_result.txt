Filetype is: inline
URL: https://investors.instacart.com https://investors.instacart.com/sites/g/files/knoqqb79481/files/js/js_aNIHbVqL0tY9e6xtaWPaSH7lJW7cf7hhs85kRg3rSBQ.js
                  
                  
┌────────────────┐
│ 1 Code Finding │
└────────────────┘
                                
    /tmp/-5148383303474866699.js
    ❯❱ production_rules.proprietary.html-inject
          Possible HTML Injection vulnerability
                                               
           18┆ window.Drupal={behaviors:{},locale:{}};(function(Drupal,drupalSettings,drupalTranslations,c
               onsole,Proxy,Reflect){Drupal.throwError=function(error){setTimeout(()=>{throw error;},0);};
               Drupal.attachBehaviors=function(context,settings){context=context||document;settings=settin
               gs||drupalSettings;const                                                                   
               behaviors=Drupal.behaviors;Object.keys(behaviors||{}).forEach((i)=>{if(typeof behaviors[i].
               attach==='function')try{behaviors[i].attach(context,settings);}catch(e){Drupal.throwError(e
               );}});};Drupal.detachBehaviors=function(context,settings,trigger){context=context||document
               ;settings=settings||drupalSettings;trigger=trigger||'unload';const                         
               behaviors=Drupal.behaviors;Object.keys(behaviors||{}).forEach((i)=>{if(typeof behaviors[i].
               detach==='function')try{behaviors[i].detach(context,settings,trigger);}catch(e){Drupal.thro
               wError(e);}});};Drupal.checkPlain=function(str){str=str.toString().replace(/&/g,'&amp;').re
               place(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');return
               str;};Drupal.formatString=function(str,args){const                                         
               processedArgs={};Object.keys(args||{}).forEach((key)=>{switch(key.charAt(0)){case          
               '@':processedArgs[key]=Drupal.checkPlain(args[key]);break;case '!':processedArgs[key]=args[
               key];break;default:processedArgs[key]=Drupal.theme('placeholder',args[key]);break;}});retur
               n Drupal.stringReplace(str,processedArgs,null);};Drupal.stringReplace=function(str,args,key
               s){if(str.length===0)return str;if(!Array.isArray(keys)){keys=Object.keys(args||{});keys.so
               rt((a,b)=>a.length-b.length);}if(keys.length===0)return str;const key=keys.pop();const     
               fragments=str.split(key);if(keys.length){for(let i=0;i<fragments.length;i++)fragments[i]=Dr
               upal.stringReplace(fragments[i],args,keys.slice(0));}return fragments.join(args[key]);};Dru
               pal.t=function(str,args,options){options=options||{};options.context=options.context||'';if
               (typeof drupalTranslations!=='undefined'&&drupalTranslations.strings&&drupalTranslations.st
               rings[options.context]&&drupalTranslations.strings[options.context][str])str=drupalTranslat
               ions.strings[options.context][str];if(args)str=Drupal.formatString(str,args);return        
               str;};Drupal.url=function(path){return drupalSettings.path.baseUrl+drupalSettings.path.path
               Prefix+path;};Drupal.url.toAbsolute=function(url){const urlParsingNode=document.createEleme
               nt('a');try{url=decodeURIComponent(url);}catch(e){}urlParsingNode.setAttribute('href',url);
               return urlParsingNode.cloneNode(false).href;};Drupal.url.isLocal=function(url){let         
               absoluteUrl=Drupal.url.toAbsolute(url);let {protocol}=window.location;if(protocol==='http:'
               &&absoluteUrl.startsWith('https:'))protocol='https:';let baseUrl=`${protocol}//${window.loc
               ation.host}${drupalSettings.path.baseUrl.slice(0,-                                         
               1)}`;try{absoluteUrl=decodeURIComponent(absoluteUrl);}catch(e){}try{baseUrl=decodeURICompon
               ent(baseUrl);}catch(e){}return absoluteUrl===baseUrl||absoluteUrl.startsWith(`${baseUrl}/`)
               ;};Drupal.formatPlural=function(count,singular,plural,args,options){args=args||{};args['@co
               unt']=count;const pluralDelimiter=drupalSettings.pluralDelimiter;const translations=Drupal.
               t(singular+pluralDelimiter+plural,args,options).split(pluralDelimiter);let                 
               index=0;if(typeof                                                                          
               drupalTranslations!=='undefined'&&drupalTranslations.pluralFormula)index=count in drupalTra
               nslations.pluralFormula?drupalTranslations.pluralFormula[count]:drupalTranslations.pluralFo
               rmula.default;else{if(args['@count']!==1)index=1;}return                                   
               translations[index];};Drupal.encodePath=function(item){return window.encodeURIComponent(ite
               m).replace(/%2F/g,'/');};Drupal.deprecationError=({message})=>{if(drupalSettings.suppressDe
               precationErrors===false&&typeof                                                            
               console!=='undefined'&&console.warn)console.warn(`[Deprecation] ${message}`);};Drupal.depre
               catedProperty=({target,deprecatedProperty,message})=>{if(!Proxy||!Reflect)return           
               target;return new Proxy(target,{get:(target,key,...rest)=>{if(key===deprecatedProperty)Drup
               al.deprecationError({message});return                                                      
               Reflect.get(target,key,...rest);}});};Drupal.theme=function(func,...args){if(func in       
               Drupal.theme)return                                                                        
               Drupal.theme[func](...args);};Drupal.theme.placeholder=function(str){return `<em class="pla
               ceholder">${Drupal.checkPlain(str)}</em>`;};Drupal.elementIsVisible=function(elem){return !
               !(elem.offsetWidth||elem.offsetHeight||elem.getClientRects().length);};Drupal.elementIsHidd
               en=function(elem){return !Drupal.elementIsVisible(elem);};})(Drupal,window.drupalSettings,w
               indow.drupalTranslations,window.console,window.Proxy,window.Reflect);;                     


stderr:
               
               
┌─────────────┐
│ Scan Status │
└─────────────┘
  Scanning 1 file with 10 Code rules:
  Scanning 1 file with 10 js rules.
                
                
┌──────────────┐
│ Scan Summary │
└──────────────┘
Semgrep's file targeting is getting a revamp! This scan wouldn't see any changes. To learn about what will be different after version 1.116.0, visit https://semgrep.dev/docs/kb/semgrep-code/semgrepignore-ignored for the new specification.

✅ Scan completed successfully.
 • Findings: 1 (1 blocking)
 • Rules run: 10
 • Targets scanned: 1
 • Parsed lines: ~100.0%
 • No ignore information available
Ran 10 rules on 1 file: 1 finding.
